(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{1057:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var u=r(5155),s=r(2115),l=r(5695),o=r(4236);function a(){let{user:e,isLoading:t}=(0,o.A)(),r=(0,l.useRouter)();return((0,s.useEffect)(()=>{t||(e?r.push("/dashboard"):r.push("/auth"))},[e,t,r]),t)?(0,u.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:(0,u.jsx)("div",{children:"در حال بارگذاری..."})}):null}},4122:(e,t,r)=>{Promise.resolve().then(r.bind(r,1057))},4236:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var u=r(5731);let s=()=>(0,u.Z)()},5695:(e,t,r)=>{"use strict";var u=r(8999);r.o(u,"useRouter")&&r.d(t,{useRouter:function(){return u.useRouter}})},5731:(e,t,r)=>{"use strict";r.d(t,{AuthProvider:()=>o,Z:()=>a});var u=r(5155),s=r(2115);let l=(0,s.createContext)(void 0),o=e=>{let{children:t}=e,[r,o]=(0,s.useState)(null),[a,i]=(0,s.useState)(!0);return(0,s.useEffect)(()=>{let e=setTimeout(()=>{try{{let e=localStorage.getItem("user");if(e){let t=JSON.parse(e);o(t)}}}catch(e){console.error("Failed to parse user from localStorage",e),localStorage.removeItem("user")}finally{i(!1)}},100);return()=>clearTimeout(e)},[]),(0,u.jsx)(l.Provider,{value:{user:r,login:e=>{o(e),localStorage.setItem("user",JSON.stringify(e))},logout:()=>{o(null),localStorage.removeItem("user")},isLoading:a},children:t})},a=()=>{let e=(0,s.useContext)(l);if(!e)throw Error("useAuthContext must be used within AuthProvider");return e}}},e=>{e.O(0,[441,964,358],()=>e(e.s=4122)),_N_E=e.O()}]);